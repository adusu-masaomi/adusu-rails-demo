Started GET "/system/index" for ::1 at 2023-08-30 14:55:14 +0900
  [1m[35m (3.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SystemController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 0.0ms | Allocations: 4192)


Started GET "/login" for ::1 at 2023-08-30 14:55:15 +0900
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 17.3ms | Allocations: 1871)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 5880.8ms | Allocations: 2085435)
Completed 200 OK in 5900ms (Views: 5899.0ms | ActiveRecord: 0.0ms | Allocations: 2088212)


Started GET "/images/favicon.ico" for ::1 at 2023-08-30 14:56:01 +0900
  
ActionController::RoutingError (No route matches [GET] "/images/favicon.ico"):
  
Started POST "/login" for ::1 at 2023-08-30 14:56:11 +0900
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "session"=>{"name"=>"adusu", "password"=>"[FILTERED]"}, "commit"=>"ログイン"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "adusu"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 468)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from create at C:/work/adusu_std_demo/app/controllers/sessions_controller.rb:12)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from create at C:/work/adusu_std_demo/app/controllers/sessions_controller.rb:12)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from create at C:/work/adusu_std_demo/app/controllers/sessions_controller.rb:12)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from create at C:/work/adusu_std_demo/app/controllers/sessions_controller.rb:12)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from create at C:/work/adusu_std_demo/app/controllers/sessions_controller.rb:12)
  Rendered layout layouts/application.html.erb (Duration: 852.4ms | Allocations: 832686)
Completed 200 OK in 1147ms (Views: 853.8ms | ActiveRecord: 15.0ms | Allocations: 843134)


Started POST "/login" for ::1 at 2023-08-30 14:56:22 +0900
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "session"=>{"name"=>"adusu", "password"=>"[FILTERED]"}, "commit"=>"ログイン"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "adusu"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://localhost:3000/system/index
Completed 302 Found in 264ms (ActiveRecord: 0.4ms | Allocations: 2873)


Started GET "/system/index" for ::1 at 2023-08-30 14:56:23 +0900
Processing by SystemController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 0.6ms | Allocations: 232)
  Rendered system/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1195)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 707.6ms | Allocations: 830590)
Completed 200 OK in 721ms (Views: 713.2ms | ActiveRecord: 0.5ms | Allocations: 834575)


Started GET "/supplier_masters" for ::1 at 2023-08-30 14:56:26 +0900
Processing by SupplierMastersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering supplier_masters/index.html.erb within layouts/application
  [1m[35m (2.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "supplier_masters"."id" AS count_column FROM "supplier_masters" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/supplier_masters/index.html.erb:10
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "supplier_masters"."id") FROM "supplier_masters"[0m
  ↳ app/views/supplier_masters/index.html.erb:10
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/supplier_masters/index.html.erb:15
  [1m[36mSupplierMaster Load (3.0ms)[0m  [1m[34mSELECT DISTINCT "supplier_masters".* FROM "supplier_masters" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/supplier_masters/index.html.erb:64
  [1m[36mSupplierResponsible Load (4.1ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 7], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 4], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 1], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 2], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.8ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 3], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 5], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  Rendered supplier_masters/index.html.erb within layouts/application (Duration: 151.0ms | Allocations: 79209)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 866.6ms | Allocations: 909838)
Completed 200 OK in 917ms (Views: 852.6ms | ActiveRecord: 20.1ms | Allocations: 919175)


Started GET "/supplier_masters/7/edit" for ::1 at 2023-08-30 14:57:40 +0900
Processing by SupplierMastersController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/supplier_masters_controller.rb:134:in `set_supplier_master'
  Rendering layout layouts/application.html.erb
  Rendering supplier_masters/edit.html.erb within layouts/application
  [1m[36mSupplierResponsible Load (0.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 7]]
  ↳ app/views/supplier_masters/_form.html.erb:33
  Rendered supplier_masters/_supplier_responsible_fields.html.erb (Duration: 6.8ms | Allocations: 1848)
  Rendered supplier_masters/_supplier_responsible_fields.html.erb (Duration: 1.6ms | Allocations: 1306)
  Rendered supplier_masters/_form.html.erb (Duration: 66.5ms | Allocations: 37645)
  Rendered supplier_masters/edit.html.erb within layouts/application (Duration: 69.7ms | Allocations: 38818)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 795.1ms | Allocations: 869522)
Completed 200 OK in 804ms (Views: 796.0ms | ActiveRecord: 0.8ms | Allocations: 874344)


Started GET "/supplier_masters" for ::1 at 2023-08-30 14:57:43 +0900
Processing by SupplierMastersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering supplier_masters/index.html.erb within layouts/application
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "supplier_masters"."id" AS count_column FROM "supplier_masters" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/supplier_masters/index.html.erb:10
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "supplier_masters"."id") FROM "supplier_masters"[0m
  ↳ app/views/supplier_masters/index.html.erb:10
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/supplier_masters/index.html.erb:15
  [1m[36mSupplierMaster Load (1.1ms)[0m  [1m[34mSELECT DISTINCT "supplier_masters".* FROM "supplier_masters" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/supplier_masters/index.html.erb:64
  [1m[36mSupplierResponsible Load (0.7ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 7], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 4], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 1], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 2], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 3], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["supplier_master_id", 5], ["LIMIT", 3]]
  ↳ app/views/supplier_masters/index.html.erb:83
  Rendered supplier_masters/index.html.erb within layouts/application (Duration: 46.1ms | Allocations: 23683)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 848.8ms | Allocations: 854493)
Completed 200 OK in 857ms (Views: 844.6ms | ActiveRecord: 5.9ms | Allocations: 857776)


Started GET "/system/index" for ::1 at 2023-08-30 15:11:42 +0900
Processing by SystemController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 0.2ms | Allocations: 66)
  Rendered system/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 650)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 832.9ms | Allocations: 831679)
Completed 200 OK in 928ms (Views: 833.9ms | ActiveRecord: 9.8ms | Allocations: 839687)


Started GET "/system/index" for ::1 at 2023-08-31 09:32:56 +0900
Processing by SystemController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 4.5ms | Allocations: 66)
  Rendered system/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 650)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1410.4ms | Allocations: 831427)
Completed 200 OK in 1597ms (Views: 1416.8ms | ActiveRecord: 13.3ms | Allocations: 839310)


Started GET "/quotation_headers" for ::1 at 2023-08-31 09:33:19 +0900
Processing by QuotationHeadersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_headers/index.html.erb within layouts/application
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_headers"."id" AS count_column FROM "quotation_headers" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/quotation_headers/index.html.erb:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_headers"."id") FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:9
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:14
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:15:in `map'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:22
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:23:in `map'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:25:in `map'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers"."customer_name", "quotation_headers"."customer_id" FROM "quotation_headers"[0m
  ↳ app/views/quotation_headers/index.html.erb:33:in `uniq'
  [1m[36mQuotationHeader Load (2.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_headers".* FROM "quotation_headers" ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/quotation_headers/index.html.erb:89
  [1m[36mCustomerMaster Load (2.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_headers/index.html.erb:103
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_headers/index.html.erb:103
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_headers/index.html.erb:103
  Rendered quotation_headers/index.html.erb within layouts/application (Duration: 278.9ms | Allocations: 68728)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1069.5ms | Allocations: 899392)
Completed 200 OK in 1139ms (Views: 1048.9ms | ActiveRecord: 29.4ms | Allocations: 905908)


Started GET "/quotation_detail_large_classifications?delivery_slip_code=&invoice_code=&new_flag=1&quotation_code=2023071901&quotation_header_id=8&quotation_header_name=A%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB%E5%B7%A5%E4%BA%8B" for ::1 at 2023-08-31 09:33:23 +0900
Processing by QuotationDetailLargeClassificationsController#index as HTML
  Parameters: {"delivery_slip_code"=>"", "invoice_code"=>"", "new_flag"=>"1", "quotation_code"=>"2023071901", "quotation_header_id"=>"8", "quotation_header_name"=>"Aサンプル工事"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_detail_large_classifications/index.html.erb within layouts/application
  [1m[36mQuotationHeader Load (0.6ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_detail_large_classifications/index.html.erb:10
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers"[0m
  ↳ app/views/quotation_detail_large_classifications/index.html.erb:12
  [1m[36mQuotationDetailLargeClassification Load (3.2ms)[0m  [1m[34mSELECT "quotation_detail_large_classifications"."id", "quotation_detail_large_classifications"."working_large_item_name" FROM "quotation_detail_large_classifications" GROUP BY "quotation_detail_large_classifications"."id", "quotation_detail_large_classifications"."working_large_item_name"[0m
  ↳ app/views/quotation_detail_large_classifications/index.html.erb:14
  [1m[36mQuotationDetailLargeClassification Load (1.4ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') AND (construction_type <> '1' ) AND "quotation_detail_large_classifications"."quote_price" IS NOT NULL[0m
  ↳ app/models/quotation_detail_large_classification.rb:53:in `sumpriceQuote'
  [1m[36mQuotationDetailLargeClassification Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') AND (construction_type <> '1' ) AND "quotation_detail_large_classifications"."execution_price" IS NOT NULL[0m
  ↳ app/models/quotation_detail_large_classification.rb:62:in `sumpriceExecution'
  [1m[36mQuotationDetailLargeClassification Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') AND (construction_type <> '1' ) AND "quotation_detail_large_classifications"."labor_productivity_unit_total" IS NOT NULL[0m
  ↳ app/models/quotation_detail_large_classification.rb:78:in `sumLaborProductivityUnitTotal'
  [1m[36mQuotationDetailLargeClassification Load (1.1ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY quotation_header_id desc, line_number desc[0m
  ↳ app/views/quotation_detail_large_classifications/_index.html.erb:1
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/quotation_detail_large_classifications/_index.html.erb:6
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/quotation_detail_large_classifications/_index.html.erb:6
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/quotation_detail_large_classifications/_index.html.erb:6
  Rendered quotation_detail_large_classifications/_index.html.erb (Duration: 29.7ms | Allocations: 13207)
  Rendered quotation_detail_large_classifications/index.html.erb within layouts/application (Duration: 103.8ms | Allocations: 47584)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 850.3ms | Allocations: 878863)
Completed 200 OK in 874ms (Views: 843.7ms | ActiveRecord: 13.6ms | Allocations: 885919)


Started GET "/quotation_detail_large_classifications.pdf?print_type=1&quotation_header_id=8" for ::1 at 2023-08-31 09:33:26 +0900
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"1", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.3ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (2.4ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (3.7ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (1.7ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.7ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.5ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 8)
Sent data 見積書-20230831093326.pdf (7.7ms)
Completed 200 OK in 1008ms (Views: 5.6ms | ActiveRecord: 24.9ms | Allocations: 688531)


Started GET "/quotation_detail_large_classifications.pdf?print_type=4&quotation_header_id=8" for ::1 at 2023-08-31 09:33:45 +0900
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"4", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.6ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (0.6ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (0.4ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.7ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.6ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.5ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 5)
Sent data 見積書-20230831093345.pdf (1.4ms)
Completed 200 OK in 1083ms (Views: 1.1ms | ActiveRecord: 6.1ms | Allocations: 585798)


Started GET "/quotation_detail_large_classifications.pdf?print_type=1&quotation_header_id=8" for ::1 at 2023-08-31 09:34:11 +0900
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"1", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.7ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (0.6ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (0.7ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.2ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.9ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.5ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.8ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 5)
Sent data 見積書-20230831093411.pdf (1.7ms)
Completed 200 OK in 783ms (Views: 1.5ms | ActiveRecord: 7.4ms | Allocations: 592424)


Started GET "/quotation_detail_large_classifications.pdf?print_type=1&quotation_header_id=8" for ::1 at 2023-08-31 09:34:54 +0900
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"1", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.1ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (1.0ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.9ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (0.5ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (2.0ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.8ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.6ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 5)
Sent data 見積書-20230831093455.pdf (1.8ms)
Completed 200 OK in 711ms (Views: 1.6ms | ActiveRecord: 8.9ms | Allocations: 592429)


Started GET "/quotation_detail_large_classifications.pdf?print_type=4&quotation_header_id=8" for ::1 at 2023-08-31 09:34:59 +0900
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"4", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (0.4ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (0.4ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.5ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.9ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.6ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 5)
Sent data 見積書-20230831093459.pdf (1.3ms)
Completed 200 OK in 851ms (Views: 1.1ms | ActiveRecord: 5.7ms | Allocations: 585712)


Started GET "/quotation_detail_large_classifications.pdf?print_type=1&quotation_header_id=8" for ::1 at 2023-08-31 09:36:12 +0900
  [1m[35m (2.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"1", "quotation_header_id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.7ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.9ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (4.3ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (0.9ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (1.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (1.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.9ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.5ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.6ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 12)
Sent data 見積書-20230831093613.pdf (57.3ms)
Completed 200 OK in 1223ms (Views: 12.7ms | ActiveRecord: 44.2ms | Allocations: 776901)


Started GET "/quotation_detail_large_classifications.pdf?print_type=1&quotation_header_id=8" for ::1 at 2023-08-31 09:37:59 +0900
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by QuotationDetailLargeClassificationsController#index as PDF
  Parameters: {"print_type"=>"1", "quotation_header_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationHeader Load (0.7ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 ORDER BY "quotation_headers"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:181:in `get_public_flag'
  [1m[36mCustomerMaster Load (0.6ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_detail_large_classifications_controller.rb:185:in `get_public_flag'
  [1m[36mQuotationDetailLargeClassification Load (2.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:54:in `create'
  [1m[36mQuotationHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:55:in `block in create'
  [1m[36mCompany Load (0.8ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:80:in `create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:119:in `create'
  [1m[36mCACHE QuotationHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_headers".* FROM "quotation_headers" WHERE "quotation_headers"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:127:in `block in create'
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:150:in `block in create'
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:165:in `block in create'
  [1m[36mWorkingUnit Load (2.7ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE WorkingUnit Load (0.0ms)[0m  [1m[34mSELECT "working_units".* FROM "working_units" WHERE "working_units"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:318:in `block (2 levels) in create'
  [1m[36mCACHE QuotationDetailLargeClassification Load (0.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_detail_large_classifications".* FROM "quotation_detail_large_classifications" INNER JOIN "quotation_headers" ON "quotation_headers"."id" = "quotation_detail_large_classifications"."quotation_header_id" WHERE (quotation_headers.id = '8') ORDER BY "quotation_detail_large_classifications"."line_number" ASC[0m
  ↳ app/pdfs/estimation_sheet_pdf.rb:385:in `set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.9ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 23]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.4ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 24]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  [1m[36mQuotationDetailMiddleClassification Load (0.4ms)[0m  [1m[34mSELECT "quotation_detail_middle_classifications".* FROM "quotation_detail_middle_classifications" WHERE "quotation_detail_middle_classifications"."quotation_header_id" = $1 AND "quotation_detail_middle_classifications"."quotation_detail_large_classification_id" = $2 AND (id is NOT NULL)[0m  [["quotation_header_id", 8], ["quotation_detail_large_classification_id", 25]]
  ↳ app/pdfs/estimation_sheet_pdf.rb:402:in `block in set_detail_data'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 12)
Sent data 見積書-20230831093759.pdf (58.0ms)
Completed 200 OK in 1222ms (Views: 24.5ms | ActiveRecord: 41.7ms | Allocations: 776911)


Started GET "/system/index" for ::1 at 2023-09-12 17:29:21 +0900
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SystemController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 0.6ms | Allocations: 328)
  Rendered system/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1618)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 6693.9ms | Allocations: 2084675)
Completed 200 OK in 6753ms (Views: 6708.8ms | ActiveRecord: 5.7ms | Allocations: 2100369)


Started GET "/construction_data" for ::1 at 2023-09-12 17:29:31 +0900
Processing by ConstructionDataController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering construction_data/index.html.erb within layouts/application
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "construction_data"."id" AS count_column FROM "construction_data" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_data/index.html.erb:12
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "construction_data"."id") FROM "construction_data"[0m
  ↳ app/views/construction_data/index.html.erb:12
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/construction_data/index.html.erb:17:in `map'
  [1m[36mConstructionDatum Load (1.1ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" ORDER BY construction_code desc[0m
  ↳ app/views/construction_data/index.html.erb:18:in `map'
  [1m[36mCustomerMaster Load (1.3ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/construction_data/index.html.erb:29
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/construction_data/index.html.erb:30:in `map'
  [1m[36mConstructionDatum Load (1.4ms)[0m  [1m[34mSELECT DISTINCT "construction_data".* FROM "construction_data" ORDER BY construction_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_data/index.html.erb:144
  [1m[36mConstructionCost Load (0.8ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 LIMIT $2[0m  [["construction_datum_id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:174
  [1m[36mConstructionCost Load (0.4ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 ORDER BY "construction_costs"."id" ASC LIMIT $2[0m  [["construction_datum_id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:188
  [1m[36mCustomerMaster Load (0.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:210
  [1m[36mConstructionCost Load (0.5ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 LIMIT $2[0m  [["construction_datum_id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:174
  [1m[36mConstructionCost Load (0.5ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 ORDER BY "construction_costs"."id" ASC LIMIT $2[0m  [["construction_datum_id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:188
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:210
  [1m[36mConstructionCost Load (0.4ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 LIMIT $2[0m  [["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:174
  [1m[36mConstructionCost Load (0.4ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 ORDER BY "construction_costs"."id" ASC LIMIT $2[0m  [["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:180
  [1m[36mCustomerMaster Load (0.6ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:210
  [1m[36mConstructionCost Load (0.4ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 LIMIT $2[0m  [["construction_datum_id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:174
  [1m[36mConstructionCost Load (0.4ms)[0m  [1m[34mSELECT "construction_costs".* FROM "construction_costs" WHERE "construction_costs"."construction_datum_id" = $1 ORDER BY "construction_costs"."id" ASC LIMIT $2[0m  [["construction_datum_id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:188
  [1m[36mCustomerMaster Load (0.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_data/index.html.erb:210
  Rendered construction_data/index.html.erb within layouts/application (Duration: 248.4ms | Allocations: 129073)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1031.0ms | Allocations: 960484)
Completed 200 OK in 1108ms (Views: 1009.7ms | ActiveRecord: 26.1ms | Allocations: 974634)


Started GET "/quotation_material_headers?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:29:35 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (1.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.9ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 115.0ms | Allocations: 68863)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 888.3ms | Allocations: 899250)
Completed 200 OK in 925ms (Views: 881.9ms | ActiveRecord: 15.0ms | Allocations: 914095)


Started DELETE "/quotation_material_headers/38?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:29:43 +0900
Processing by QuotationMaterialHeadersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "construction_id"=>"2", "move_flag"=>"1", "id"=>"38"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationMaterialHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1690:in `set_quotation_material_header'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
  [1m[36mQuotationMaterialHeader Destroy (0.4ms)[0m  [1m[31mDELETE FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1[0m  [["id", 38]]
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
Redirected to http://localhost:3000/quotation_material_headers?construction_id=2&move_flag=1
Completed 302 Found in 17ms (ActiveRecord: 4.6ms | Allocations: 8773)


Started GET "/quotation_material_headers?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:29:43 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 48.9ms | Allocations: 28241)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 865.2ms | Allocations: 858721)
Completed 200 OK in 871ms (Views: 861.5ms | ActiveRecord: 5.2ms | Allocations: 862401)


Started GET "/quotation_material_headers/new?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:29:46 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20230912')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `get_last_quotation_code_select'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (1.1ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (1.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:44
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:48
  [1m[36mUnitMaster Load (0.8ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:55
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:57
  [1m[36mMakerMaster Load (0.8ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:97
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:101
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:126
  [1m[36mMaterialCategory Load (0.8ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:141
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 114.5ms | Allocations: 65085)
  Rendered quotation_material_headers/_form.html.erb (Duration: 274.7ms | Allocations: 146008)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 278.1ms | Allocations: 147106)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1058.5ms | Allocations: 977302)
Completed 200 OK in 1064ms (Views: 1028.1ms | ActiveRecord: 32.1ms | Allocations: 980542)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:29:47 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.9ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[36mQuotationMaterialHeader Load (1.2ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1517:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1550:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1552:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.7ms | Allocations: 341)
Completed 200 OK in 50ms (Views: 12.8ms | ActiveRecord: 7.1ms | Allocations: 18667)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:29:47 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.4ms | Allocations: 92)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2030)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=4&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:29:50 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"4", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.3ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 4], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1500:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1504:in `email_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1508:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1512:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.7ms | Allocations: 115)
Completed 200 OK in 32ms (Views: 3.2ms | ActiveRecord: 3.9ms | Allocations: 17265)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=4&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:29:50 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"4", "construction_datum_id"=>"2", "last_header_number"=>""}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2], ["supplier_master_id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1651:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 3208)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2023-09-12 17:29:50 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.5ms | Allocations: 109)
Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 1991)


Started GET "/quotation_material_headerz/material_select?id=2&supplier_master_id=4" for ::1 at 2023-09-12 17:29:52 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"2", "supplier_master_id"=>"4"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:325:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:326:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:327:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:328:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:331:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:343:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:345:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.7ms | Allocations: 189)
Completed 200 OK in 19ms (Views: 1.9ms | ActiveRecord: 2.5ms | Allocations: 11256)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2023-09-12 17:29:55 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.0ms | Allocations: 9)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1731)


Started GET "/quotation_material_headerz/material_select?id=3&supplier_master_id=4" for ::1 at 2023-09-12 17:29:57 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"3", "supplier_master_id"=>"4"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:325:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:326:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:327:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:328:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:331:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:343:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3]]
  ↳ app/controllers/quotation_material_headers_controller.rb:345:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.1ms | Allocations: 13)
Completed 200 OK in 18ms (Views: 1.1ms | ActiveRecord: 2.7ms | Allocations: 10899)


Started POST "/quotation_material_headers" for ::1 at 2023-09-12 17:30:03 +0900
Processing by QuotationMaterialHeadersController#create as PDF
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "quotation_material_header"=>{"quotation_code"=>"2023091201", "construction_datum_id"=>"2", "supplier_master_id"=>"4", "requested_date"=>"2023/09/12", "last_header_number"=>"", "purchase_order_code"=>"A2301", "empty"=>"", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "responsible"=>"12", "email"=>"12", "delivery_place_flag"=>"", "quotation_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_1"=>"0", "order_email_flag_2"=>"0", "order_email_flag_3"=>"0", "notes"=>"", "all_bid_flag_1"=>"0", "all_bid_flag_2"=>"0", "all_bid_flag_3"=>"0", "sent_flag"=>"7", "quotation_email_flag"=>"false", "material_id_hide"=>"", "id"=>"", "total_quotation_price_1"=>"0", "total_quotation_price_2"=>"0", "total_quotation_price_3"=>"0", "total_order_price_1"=>"0", "total_order_price_2"=>"0", "total_order_price_3"=>"0", "quotation_material_details_attributes"=>{"1694507395844"=>{"sequential_id"=>"2", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"3", "quantity"=>"4", "unit_master_id"=>"2", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"ZN1002", "material_name"=>"サンプル２", "maker_id"=>"1", "list_price"=>"151", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"2", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}, "1694507390479"=>{"sequential_id"=>"1", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"2", "quantity"=>"3", "unit_master_id"=>"2", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"ZN1001", "material_name"=>"サンプル１", "maker_id"=>"5", "list_price"=>"200", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"2", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}}}, "construction_id"=>"2", "move_flag"=>"1", "material_code_hide"=>""}
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  [1m[36mMakerMaster Load (0.2ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:581:in `block in set_params_complement'
  [1m[36mMaterialCategory Load (0.5ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:603:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:622:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:642:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "ZN1002"], ["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
Started GET "/quotation_material_headers/new?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:30:03 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mPurchaseUnitPrice Load (1.3ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '4' and material_id = '3') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:663:in `block in set_params_complement'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 4 AND "purchase_unit_prices"."material_id" = 3) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 4], ["material_id", 3], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[35m (2.2ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20230912')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `get_last_quotation_code_select'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mMakerMaster Load (0.4ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:581:in `block in set_params_complement'
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:603:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:622:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (6.8ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:642:in `block in set_params_complement'
  [1m[36mConstructionDatum Load (4.2ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "ZN1001"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mQuotationMaterialHeader Load (1.9ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mSupplierMaster Load (3.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mPurchaseUnitPrice Load (2.5ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '4' and material_id = '2') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:663:in `block in set_params_complement'
  [1m[36mSupplierResponsible Load (3.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 4 AND "purchase_unit_prices"."material_id" = 2) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 4], ["material_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  [1m[36mTRANSACTION (6.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mQuotationMaterialHeader Create (4.3ms)[0m  [1m[32mINSERT INTO "quotation_material_headers" ("quotation_code", "requested_date", "construction_datum_id", "supplier_master_id", "responsible", "email", "total_quotation_price_1", "total_quotation_price_2", "total_quotation_price_3", "total_order_price_1", "total_order_price_2", "total_order_price_3", "supplier_id_1", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_code", "2023091201"], ["requested_date", "2023-09-12"], ["construction_datum_id", 2], ["supplier_master_id", 4], ["responsible", "12"], ["email", "12"], ["total_quotation_price_1", 0], ["total_quotation_price_2", 0], ["total_quotation_price_3", 0], ["total_order_price_1", 0], ["total_order_price_2", 0], ["total_order_price_3", 0], ["supplier_id_1", 4], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["created_at", "2023-09-12 17:30:03.833684"], ["updated_at", "2023-09-12 17:30:03.833684"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (0.4ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Load (7.5ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 39], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 1], ["quotation_material_header_id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Create (6.4ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 39], ["material_id", 3], ["material_code", "ZN1002"], ["material_name", "サンプル２"], ["maker_id", 1], ["maker_name", "-"], ["quantity", 4], ["unit_master_id", 2], ["list_price", 151], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2023-09-12 17:30:03.875103"], ["updated_at", "2023-09-12 17:30:03.875103"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (0.5ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Load (0.8ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 39], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (6.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 2], ["quotation_material_header_id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mMaterialMaster Load (4.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:44
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:48
  [1m[36mQuotationMaterialDetail Create (2.3ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 39], ["material_id", 2], ["material_code", "ZN1001"], ["material_name", "サンプル１"], ["maker_id", 5], ["maker_name", "パーナ"], ["quantity", 3], ["unit_master_id", 2], ["list_price", 200], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 2], ["created_at", "2023-09-12 17:30:03.906142"], ["updated_at", "2023-09-12 17:30:03.906142"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mUnitMaster Load (2.8ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:55
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:57
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mMakerMaster Load (4.8ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:97
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:101
  [1m[36mQuotationMaterialDetail Destroy (3.5ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 288]]
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:126
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mMaterialCategory Load (2.9ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:141
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 97.7ms | Allocations: 63873)
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (0.6ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 289]]
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  Rendered quotation_material_headers/_form.html.erb (Duration: 230.9ms | Allocations: 143090)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 235.0ms | Allocations: 145362)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mConstructionDatum Load (0.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialHeader Update (0.6ms)[0m  [1m[33mUPDATE "quotation_material_headers" SET "quotation_email_flag_1" = $1, "updated_at" = $2 WHERE "quotation_material_headers"."id" = $3[0m  [["quotation_email_flag_1", 1], ["updated_at", "2023-09-12 17:30:03.996826"], ["id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.3ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Load (1.6ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 39], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 1], ["quotation_material_header_id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 39], ["material_id", 3], ["material_code", "ZN1002"], ["material_name", "サンプル２"], ["maker_id", 1], ["maker_name", "-"], ["quantity", 4], ["unit_master_id", 2], ["list_price", 151], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2023-09-12 17:30:04.015310"], ["updated_at", "2023-09-12 17:30:04.015310"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.3ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Load (0.6ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 39], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 2], ["quotation_material_header_id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 39], ["material_id", 2], ["material_code", "ZN1001"], ["material_name", "サンプル１"], ["maker_id", 5], ["maker_name", "パーナ"], ["quantity", 3], ["unit_master_id", 2], ["list_price", 200], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 2], ["created_at", "2023-09-12 17:30:04.033069"], ["updated_at", "2023-09-12 17:30:04.033069"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:79:in `app_set_responsible'
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:100:in `app_set_responsible'
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 ORDER BY "supplier_masters"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:773:in `send_email'
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1135.2ms | Allocations: 1010074)
Completed 200 OK in 1238ms (Views: 1105.7ms | ActiveRecord: 52.0ms | Allocations: 1029521)


  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 4]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:86:in `create'
  [1m[36mCompany Load (3.7ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:129:in `create'
  [1m[36mUnitMaster Load (0.5ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 8)
Sent data estimate_request.pdf (5.6ms)
Completed 200 OK in 2213ms (Views: 5.2ms | ActiveRecord: 105.4ms | Allocations: 1600870)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:30:05 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.4ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[36mQuotationMaterialHeader Load (2.6ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1517:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1550:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1552:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.9ms | Allocations: 144)
Completed 200 OK in 30ms (Views: 4.7ms | ActiveRecord: 4.7ms | Allocations: 12003)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:30:06 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 6)
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.0ms | Allocations: 1732)


Started GET "/quotation_material_headers?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:30:30 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (0.6ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.8ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 61.4ms | Allocations: 33327)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 918.1ms | Allocations: 864253)
Completed 200 OK in 923ms (Views: 913.4ms | ActiveRecord: 6.0ms | Allocations: 867905)


Started DELETE "/quotation_material_headers/39?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:31:12 +0900
Processing by QuotationMaterialHeadersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "construction_id"=>"2", "move_flag"=>"1", "id"=>"39"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1690:in `set_quotation_material_header'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
  [1m[36mQuotationMaterialHeader Destroy (0.6ms)[0m  [1m[31mDELETE FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1[0m  [["id", 39]]
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:538:in `destroy'
Redirected to http://localhost:3000/quotation_material_headers?construction_id=2&move_flag=1
Completed 302 Found in 16ms (ActiveRecord: 3.7ms | Allocations: 8048)


Started GET "/quotation_material_headers?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:31:12 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (0.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.7ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 50.0ms | Allocations: 30127)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 763.6ms | Allocations: 862567)
Completed 200 OK in 774ms (Views: 764.6ms | ActiveRecord: 4.9ms | Allocations: 867285)


Started GET "/quotation_material_headers/new?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:31:14 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20230912')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `get_last_quotation_code_select'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.6ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:44
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:48
  [1m[36mUnitMaster Load (0.4ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:55
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:57
  [1m[36mMakerMaster Load (0.5ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:97
  [1m[36mCACHE MakerMaster Load (0.1ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:101
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:126
  [1m[36mMaterialCategory Load (0.4ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:141
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 59.9ms | Allocations: 41253)
  Rendered quotation_material_headers/_form.html.erb (Duration: 140.4ms | Allocations: 91479)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 142.8ms | Allocations: 92535)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 880.4ms | Allocations: 923107)
Completed 200 OK in 889ms (Views: 876.9ms | ActiveRecord: 5.2ms | Allocations: 926218)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:31:15 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.3ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1517:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1550:in `email_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1552:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 1.6ms | Allocations: 281)
Completed 200 OK in 35ms (Views: 13.4ms | ActiveRecord: 2.3ms | Allocations: 13341)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:31:16 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.8ms | Allocations: 90)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.0ms | Allocations: 1975)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=4&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:31:17 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"4", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.6ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 4], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1500:in `email_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1504:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1508:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1512:in `email_select'
  [1m[36mQuotationMaterialHeader Load (1.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.1ms | Allocations: 115)
Completed 200 OK in 36ms (Views: 1.2ms | ActiveRecord: 5.3ms | Allocations: 13149)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=4&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:31:17 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"4", "construction_datum_id"=>"2", "last_header_number"=>""}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2], ["supplier_master_id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1651:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.4ms | Allocations: 3194)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2023-09-12 17:31:18 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.5ms | Allocations: 105)
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 1986)


Started GET "/quotation_material_headerz/material_select?id=2&supplier_master_id=4" for ::1 at 2023-09-12 17:31:20 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"2", "supplier_master_id"=>"4"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:325:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:326:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:327:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:328:in `material_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:331:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:343:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:345:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.8ms | Allocations: 181)
Completed 200 OK in 27ms (Views: 2.3ms | ActiveRecord: 3.6ms | Allocations: 11234)


Started POST "/quotation_material_headers" for ::1 at 2023-09-12 17:31:24 +0900
Processing by QuotationMaterialHeadersController#create as PDF
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "quotation_material_header"=>{"quotation_code"=>"2023091201", "construction_datum_id"=>"2", "supplier_master_id"=>"4", "requested_date"=>"2023/09/12", "last_header_number"=>"", "purchase_order_code"=>"A2301", "empty"=>"", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "responsible"=>"12", "email"=>"12", "delivery_place_flag"=>"", "quotation_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_1"=>"0", "order_email_flag_2"=>"0", "order_email_flag_3"=>"0", "notes"=>"", "all_bid_flag_1"=>"0", "all_bid_flag_2"=>"0", "all_bid_flag_3"=>"0", "sent_flag"=>"7", "quotation_email_flag"=>"false", "material_id_hide"=>"", "id"=>"", "total_quotation_price_1"=>"0", "total_quotation_price_2"=>"0", "total_quotation_price_3"=>"0", "total_order_price_1"=>"0", "total_order_price_2"=>"0", "total_order_price_3"=>"0", "quotation_material_details_attributes"=>{"1694507478106"=>{"sequential_id"=>"1", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"2", "quantity"=>"5", "unit_master_id"=>"2", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"ZN1001", "material_name"=>"サンプル１", "maker_id"=>"5", "list_price"=>"200", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"2", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}}}, "construction_id"=>"2", "move_flag"=>"1", "material_code_hide"=>""}
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  [1m[36mMakerMaster Load (0.4ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:581:in `block in set_params_complement'
  [1m[36mMaterialCategory Load (0.5ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:603:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:622:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:642:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "ZN1001"], ["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:651:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Load (0.4ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '4' and material_id = '2') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:663:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 4 AND "purchase_unit_prices"."material_id" = 2) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 4], ["material_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:670:in `block in set_params_complement'
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialHeader Create (0.6ms)[0m  [1m[32mINSERT INTO "quotation_material_headers" ("quotation_code", "requested_date", "construction_datum_id", "supplier_master_id", "responsible", "email", "total_quotation_price_1", "total_quotation_price_2", "total_quotation_price_3", "total_order_price_1", "total_order_price_2", "total_order_price_3", "supplier_id_1", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_code", "2023091201"], ["requested_date", "2023-09-12"], ["construction_datum_id", 2], ["supplier_master_id", 4], ["responsible", "12"], ["email", "12"], ["total_quotation_price_1", 0], ["total_quotation_price_2", 0], ["total_quotation_price_3", 0], ["total_order_price_1", 0], ["total_order_price_2", 0], ["total_order_price_3", 0], ["supplier_id_1", 4], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["created_at", "2023-09-12 17:31:24.602279"], ["updated_at", "2023-09-12 17:31:24.602279"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 40], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 1], ["quotation_material_header_id", 40]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 40], ["material_id", 2], ["material_code", "ZN1001"], ["material_name", "サンプル１"], ["maker_id", 5], ["maker_name", "パーナ"], ["quantity", 5], ["unit_master_id", 2], ["list_price", 200], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2023-09-12 17:31:24.624484"], ["updated_at", "2023-09-12 17:31:24.624484"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:407:in `block in create'
  [1m[36mQuotationMaterialDetail Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 40]]
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (0.4ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 292]]
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:532:in `destroy_before_update'
[31mUnpermitted parameters: :sequential_id, :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mConstructionDatum Load (0.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialHeader Update (0.5ms)[0m  [1m[33mUPDATE "quotation_material_headers" SET "quotation_email_flag_1" = $1, "updated_at" = $2 WHERE "quotation_material_headers"."id" = $3[0m  [["quotation_email_flag_1", 1], ["updated_at", "2023-09-12 17:31:24.658652"], ["id", 40]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.4ms)[0m  [1m[37mLOCK TABLE quotation_material_details IN EXCLUSIVE MODE[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE (sequential_id IS NOT NULL) AND "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id DESC LIMIT $2[0m  [["quotation_material_header_id", 40], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "quotation_material_details" WHERE "quotation_material_details"."sequential_id" = $1 AND "quotation_material_details"."quotation_material_header_id" = $2[0m  [["sequential_id", 1], ["quotation_material_header_id", 40]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 40], ["material_id", 2], ["material_code", "ZN1001"], ["material_name", "サンプル１"], ["maker_id", 5], ["maker_name", "パーナ"], ["quantity", 5], ["unit_master_id", 2], ["list_price", 200], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2023-09-12 17:31:24.675706"], ["updated_at", "2023-09-12 17:31:24.675706"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1300:in `set_mail_sent_flag'
  [1m[36mSupplierResponsible Load (0.4ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:79:in `app_set_responsible'
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:100:in `app_set_responsible'
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 ORDER BY "supplier_masters"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:773:in `send_email'
  [1m[36mSupplierResponsible Load (0.6ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 4]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:86:in `create'
  [1m[36mCompany Load (0.4ms)[0m  [1m[34mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:129:in `create'
  [1m[36mUnitMaster Load (0.3ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 5)
Sent data estimate_request.pdf (1.9ms)
Completed 200 OK in 739ms (Views: 1.7ms | ActiveRecord: 18.4ms | Allocations: 529370)


Started GET "/quotation_material_headers/new?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:31:26 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:172:in `new'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (0.7ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:44
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:48
  [1m[36mUnitMaster Load (0.4ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:55
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:57
  [1m[36mMakerMaster Load (0.8ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:97
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:101
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:126
  [1m[36mMaterialCategory Load (0.4ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:141
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 61.5ms | Allocations: 38798)
  [1m[36mQuotationMaterialDetail Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id ASC[0m  [["quotation_material_header_id", 40]]
  ↳ app/views/quotation_material_headers/_form.html.erb:410
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:44
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:48
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:55
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:57
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:97
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:101
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:126
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:134
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:141
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 59.5ms | Allocations: 43684)
  Rendered quotation_material_headers/_form.html.erb (Duration: 200.8ms | Allocations: 131522)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 202.4ms | Allocations: 132360)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1007.0ms | Allocations: 962982)
Completed 200 OK in 1015ms (Views: 1002.9ms | ActiveRecord: 7.3ms | Allocations: 966432)


Started GET "/quotation_material_headerz/email_select?id=40&supplier_id=4&supplier_id_1=4&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=true&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2" for ::1 at 2023-09-12 17:31:27 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"40", "supplier_id"=>"4", "supplier_id_1"=>"4", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"true", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1490:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1491:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.4ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 4], ["construction_datum_id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1494:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1500:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1504:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1508:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 4], ["id", 12]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1512:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1558:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 117)
Completed 200 OK in 25ms (Views: 1.4ms | ActiveRecord: 2.9ms | Allocations: 13201)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=4&construction_datum_id=2&last_header_number=" for ::1 at 2023-09-12 17:31:28 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"4", "construction_datum_id"=>"2", "last_header_number"=>""}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2], ["supplier_master_id", 4]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1651:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 3194)


Started GET "/quotation_material_headers?construction_id=2&move_flag=1" for ::1 at 2023-09-12 17:31:36 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2", "move_flag"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (1.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 68.4ms | Allocations: 33199)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 799.7ms | Allocations: 863840)
Completed 200 OK in 808ms (Views: 795.7ms | ActiveRecord: 5.4ms | Allocations: 867480)


Started GET "/construction_daily_reports" for ::1 at 2023-09-12 17:31:54 +0900
Processing by ConstructionDailyReportsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/index.html.erb within layouts/application
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "construction_daily_reports" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "construction_daily_reports"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[36mConstructionDatum Load (0.6ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:14:in `map'
  [1m[36mStaff Load (1.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:18
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:20:in `map'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("construction_daily_reports"."labor_cost") FROM "construction_daily_reports" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/models/construction_daily_report.rb:107:in `sumprice'
  [1m[36mConstructionDailyReport Load (0.8ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" ORDER BY id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:108
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:125
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.8ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  Rendered construction_daily_reports/index.html.erb within layouts/application (Duration: 116.8ms | Allocations: 53591)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1021.9ms | Allocations: 884716)
Completed 200 OK in 1046ms (Views: 1012.0ms | ActiveRecord: 16.6ms | Allocations: 892496)


Started GET "/construction_daily_reports/4" for ::1 at 2023-09-12 17:32:08 +0900
Processing by ConstructionDailyReportsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mConstructionDailyReport Load (0.4ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" WHERE "construction_daily_reports"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/construction_daily_reports_controller.rb:504:in `set_construction_daily_report'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/show.html.erb within layouts/application
  [1m[36mConstructionDatum Load (1.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/show.html.erb:11
  [1m[36mStaff Load (2.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/show.html.erb:15
  Rendered construction_daily_reports/show.html.erb within layouts/application (Duration: 43.3ms | Allocations: 5737)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 896.8ms | Allocations: 836842)
Completed 200 OK in 904ms (Views: 894.5ms | ActiveRecord: 3.8ms | Allocations: 840256)


Started GET "/construction_daily_reports/4/edit" for ::1 at 2023-09-12 17:32:11 +0900
Processing by ConstructionDailyReportsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mConstructionDailyReport Load (0.4ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" WHERE "construction_daily_reports"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/construction_daily_reports_controller.rb:504:in `set_construction_daily_report'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "staffs"."daily_pay" FROM "staffs" WHERE (id = 4)[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:264:in `edit'
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE (id = 3)[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:270:in `edit'
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:270:in `edit'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "construction_data"."construction_start_date", "construction_data"."id" FROM "construction_data" WHERE "construction_data"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/construction_daily_reports_controller.rb:272:in `edit'
  [1m[36mWorkingTime Load (1.5ms)[0m  [1m[34mSELECT "working_times".* FROM "working_times" ORDER BY "working_times"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/construction_daily_reports_controller.rb:340:in `get_working_time'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/edit.html.erb within layouts/application
DEPRECATION WARNING: input method now accepts a `wrapper_options` argument. The method definition without the argument is deprecated and will be removed in the next Simple Form version. Change your code from:

    def input

to

    def input(wrapper_options)

See https://github.com/heartcombo/simple_form/pull/997 for more information.
 (called from block in render at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/simple_form-5.2.0/lib/simple_form/wrappers/many.rb:29)
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:37
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:39
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:42
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/_form.html.erb:86
  Rendered construction_daily_reports/_form.html.erb (Duration: 79.3ms | Allocations: 61048)
  Rendered construction_daily_reports/edit.html.erb within layouts/application (Duration: 83.8ms | Allocations: 62164)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 843.0ms | Allocations: 892924)
Completed 200 OK in 893ms (Views: 843.9ms | ActiveRecord: 9.3ms | Allocations: 914876)


Started GET "/construction_daily_reports" for ::1 at 2023-09-12 17:32:14 +0900
Processing by ConstructionDailyReportsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "construction_daily_reports" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "construction_daily_reports"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[36mConstructionDatum Load (0.9ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:14:in `map'
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:18
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:20:in `map'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("construction_daily_reports"."labor_cost") FROM "construction_daily_reports" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/models/construction_daily_report.rb:107:in `sumprice'
  [1m[36mConstructionDailyReport Load (1.3ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" ORDER BY id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:108
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:125
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  Rendered construction_daily_reports/index.html.erb within layouts/application (Duration: 62.2ms | Allocations: 33629)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 822.8ms | Allocations: 864826)
Completed 200 OK in 828ms (Views: 817.3ms | ActiveRecord: 7.2ms | Allocations: 868144)


Started GET "/construction_daily_reports/4/edit" for ::1 at 2023-09-12 17:32:56 +0900
Processing by ConstructionDailyReportsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mConstructionDailyReport Load (0.4ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" WHERE "construction_daily_reports"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/construction_daily_reports_controller.rb:504:in `set_construction_daily_report'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "staffs"."daily_pay" FROM "staffs" WHERE (id = 4)[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:264:in `edit'
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE (id = 3)[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:270:in `edit'
  [1m[36mConstructionDatum Load (0.3ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/controllers/construction_daily_reports_controller.rb:270:in `edit'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "construction_data"."construction_start_date", "construction_data"."id" FROM "construction_data" WHERE "construction_data"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4]]
  ↳ app/controllers/construction_daily_reports_controller.rb:272:in `edit'
  [1m[36mWorkingTime Load (0.5ms)[0m  [1m[34mSELECT "working_times".* FROM "working_times" ORDER BY "working_times"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/construction_daily_reports_controller.rb:340:in `get_working_time'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/edit.html.erb within layouts/application
DEPRECATION WARNING: input method now accepts a `wrapper_options` argument. The method definition without the argument is deprecated and will be removed in the next Simple Form version. Change your code from:

    def input

to

    def input(wrapper_options)

See https://github.com/heartcombo/simple_form/pull/997 for more information.
 (called from block in render at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/simple_form-5.2.0/lib/simple_form/wrappers/many.rb:29)
  [1m[36mStaff Load (0.4ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:37
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:39
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/_form.html.erb:42
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/_form.html.erb:86
  Rendered construction_daily_reports/_form.html.erb (Duration: 75.3ms | Allocations: 55056)
  Rendered construction_daily_reports/edit.html.erb within layouts/application (Duration: 77.1ms | Allocations: 55828)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 827.9ms | Allocations: 886646)
Completed 200 OK in 855ms (Views: 828.4ms | ActiveRecord: 4.4ms | Allocations: 898120)


Started GET "/construction_daily_reports" for ::1 at 2023-09-12 17:32:59 +0900
Processing by ConstructionDailyReportsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering construction_daily_reports/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "construction_daily_reports" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "construction_daily_reports"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:8
  [1m[36mConstructionDatum Load (0.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:14:in `map'
  [1m[36mStaff Load (0.6ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:18
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:20:in `map'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("construction_daily_reports"."labor_cost") FROM "construction_daily_reports" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/models/construction_daily_report.rb:107:in `sumprice'
  [1m[36mConstructionDailyReport Load (0.7ms)[0m  [1m[34mSELECT "construction_daily_reports".* FROM "construction_daily_reports" ORDER BY id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/construction_daily_reports/index.html.erb:108
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mCACHE Staff Load (0.0ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs"[0m
  ↳ app/views/construction_daily_reports/index.html.erb:125
  [1m[36mStaff Load (0.2ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.5ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:117
  [1m[36mStaff Load (0.3ms)[0m  [1m[34mSELECT "staffs".* FROM "staffs" WHERE "staffs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/construction_daily_reports/index.html.erb:126
  Rendered construction_daily_reports/index.html.erb within layouts/application (Duration: 67.6ms | Allocations: 33397)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 828.6ms | Allocations: 863404)
Completed 200 OK in 836ms (Views: 824.1ms | ActiveRecord: 6.3ms | Allocations: 866577)


Started GET "/system/index" for ::1 at 2023-09-12 17:33:32 +0900
Processing by SystemController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 0.5ms | Allocations: 227)
  Rendered system/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1182)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 780.7ms | Allocations: 832021)
Completed 200 OK in 791ms (Views: 785.8ms | ActiveRecord: 0.4ms | Allocations: 835795)


